<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta name="description" content="Stock 101 - –ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ —Å –ø–ª–∏—Ç–∫–∞–º–∏" />
    <meta name="keywords" content="–∏–≥—Ä–∞, –ª–æ–≥–∏–∫–∞, –ø–ª–∏—Ç–∫–∏, –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞" />
    <title>Stock 101</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <header class="header" role="banner">
      <div class="stat" role="group" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã">
        <div class="stat-label">Heap</div>
        <div class="stat-value" id="heap" aria-live="polite">0</div>
      </div>
      <div class="stat" role="group" aria-label="–¶–µ–ª—å –∏–≥—Ä—ã">
        <div class="stat-label">Goal</div>
        <div class="stat-value" id="goal" aria-live="polite">101</div>
      </div>
      <div class="stat" role="group" aria-label="–°—á–µ—Ç –∏–≥—Ä—ã">
        <div class="stat-label">Score</div>
        <div class="stat-value" id="score" aria-live="polite">0</div>
      </div>
      <button
        class="header-btn"
        id="soundBtn"
        title="–ó–≤—É–∫"
        aria-label="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫"
        aria-pressed="true"
      >
        <span aria-hidden="true">üîä</span>
      </button>
    </header>

    <main class="game-container" role="main">
      <div
        class="game-board"
        id="gameBoard"
        role="grid"
        aria-label="–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ"
      >
        <!-- Tiles will be added dynamically -->
      </div>
    </main>

    <footer class="footer" role="toolbar" aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π">
      <button
        class="footer-btn"
        id="undoBtn"
        title="–û—Ç–º–µ–Ω–∏—Ç—å —Ö–æ–¥"
        aria-label="–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥"
      >
        <span aria-hidden="true">‚Ü∂</span>
      </button>
      <button
        class="footer-btn"
        id="repaintBtn"
        title="–ü–µ—Ä–µ–∫—Ä–∞—Å–∏—Ç—å –ø–ª–∏—Ç–∫—É"
        aria-label="–†–µ–∂–∏–º –ø–µ—Ä–µ–∫—Ä–∞—Å–∫–∏ –ø–ª–∏—Ç–æ–∫"
        aria-pressed="false"
      >
        <span aria-hidden="true">üé®</span>
      </button>
      <button
        class="footer-btn"
        id="restartBtn"
        title="–ù–æ–≤–∞—è –∏–≥—Ä–∞"
        aria-label="–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É"
      >
        <span aria-hidden="true">‚ü≥</span>
      </button>
      <button
        class="footer-btn"
        id="settingsBtn"
        title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        aria-label="–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã"
      >
        <span aria-hidden="true">‚öô</span>
      </button>
      <button
        class="footer-btn"
        id="topResultsBtn"
        title="–¢–æ–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
        aria-label="–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
      >
        <span aria-hidden="true">üèÜ</span>
      </button>
      <button
        class="footer-btn"
        id="userStatsBtn"
        title="–ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
        aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –º–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"
      >
        <span aria-hidden="true">üìä</span>
      </button>
    </footer>

    <div
      class="modal"
      id="gameOverModal"
      role="dialog"
      aria-labelledby="gameOverTitle"
      aria-describedby="gameOverText"
      inert=""
    >
      <div class="modal-content">
        <h2 id="gameOverTitle">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
        <p id="gameOverText" role="status"></p>
        <div class="modal-actions">
          <button id="newGameBtn" aria-label="–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É">
            –ù–æ–≤–∞—è –∏–≥—Ä–∞
          </button>
          <button
            class="footer-btn"
            id="undoBtn2"
            title="–û—Ç–º–µ–Ω–∏—Ç—å —Ö–æ–¥"
            aria-label="–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥"
          >
            <span aria-hidden="true">‚Ü∂</span>
          </button>
        </div>
      </div>
    </div>

    <div
      class="settings-panel"
      id="settingsPanel"
      role="dialog"
      aria-labelledby="settingsTitle"
      inert=""
    >
      <h3 id="settingsTitle" style="text-align: center; margin-bottom: 15px">
        –ù–∞—Å—Ç—Ä–æ–π–∫–∏
      </h3>
      <div>
        <label for="colorPicker" style="display: block; margin-bottom: 5px"
          >–¶–≤–µ—Ç–∞ –ø–ª–∏—Ç–æ–∫:</label
        >
        <div
          class="color-picker"
          id="colorPicker"
          role="group"
          aria-label="–í—ã–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ –ø–ª–∏—Ç–æ–∫"
        >
          <div
            class="color-option selected"
            style="background: #ff6b6b"
            data-color="red"
            role="button"
            tabindex="0"
            aria-label="–ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç"
            aria-pressed="true"
          ></div>
          <div
            class="color-option selected"
            style="background: #4dabf7"
            data-color="blue"
            role="button"
            tabindex="0"
            aria-label="–°–∏–Ω–∏–π —Ü–≤–µ—Ç"
            aria-pressed="true"
          ></div>
          <div
            class="color-option selected"
            style="background: #51cf66"
            data-color="green"
            role="button"
            tabindex="0"
            aria-label="–ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç"
            aria-pressed="true"
          ></div>
          <div
            class="color-option selected"
            style="background: #ff8cc8"
            data-color="magenta"
            role="button"
            tabindex="0"
            aria-label="–ü—É—Ä–ø—É—Ä–Ω—ã–π —Ü–≤–µ—Ç"
            aria-pressed="true"
          ></div>
        </div>
      </div>
      <div style="text-align: center; margin-top: 15px">
        <button id="closeSettingsBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>

    <div
      class="modal"
      id="restartConfirmModal"
      role="dialog"
      aria-labelledby="restartConfirmTitle"
      aria-describedby="restartConfirmText"
      inert=""
    >
      <div class="modal-content">
        <h2 id="restartConfirmTitle">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</h2>
        <p id="restartConfirmText" role="status">
          –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?
          <br />–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.
        </p>
        <div class="modal-actions">
          <button
            id="restartConfirmYes"
            class="confirm-btn primary"
            aria-label="–î–∞, –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É"
          >
            –î–∞, –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
          </button>
          <button
            id="restartConfirmNo"
            class="confirm-btn secondary"
            aria-label="–û—Ç–º–µ–Ω–∞"
          >
            –û—Ç–º–µ–Ω–∞
          </button>
        </div>
      </div>
    </div>

    <!-- Registration/Auth Modal -->
    <div
      class="modal"
      id="authModal"
      role="dialog"
      aria-labelledby="authModalTitle"
      inert
      style="display: none"
    >
      <div class="modal-content">
        <h2 id="authModalTitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
        <p style="margin-bottom: 10px">
          –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
          —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
        </p>
        <form id="authForm" autocomplete="off">
          <input
            type="text"
            id="authUserName"
            name="username"
            placeholder="–í–∞—à–µ –∏–º—è"
            maxlength="20"
            required
            style="
              width: 100%;
              padding: 10px;
              font-size: 16px;
              border-radius: 6px;
              border: none;
              margin-bottom: 10px;
            "
          />
          <div class="modal-actions">
            <button
              type="submit"
              class="confirm-btn primary"
              id="authSubmitBtn"
            >
              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="js/app.js"></script>
    <script src="js/mobile-support.js"></script>
  </body>
</html>
